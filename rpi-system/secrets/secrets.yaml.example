# Secrets file for sops-nix
# This file should be encrypted with sops before committing
# 
# To edit: nix run nixpkgs#sops secrets/secrets.yaml
# 
# Structure matches what the NixOS configuration expects:

wifi:
    # Environment file format for wpa_supplicant secretsFile
    # Contains PSK values referenced by network configs
    # 
    # IMPORTANT: PSK must be a 64-character hex string (not the plain password)
    # Generate with: wpa_passphrase "SSID" "password" | grep psk= | grep -v "#psk"
    # Or use: nix-shell -p wpa_supplicant --run 'wpa_passphrase "SSID" "password"'
    # 
    # Example output: psk=a1b2c3d4e5f6...
    # Use only the hex part (64 chars) without "psk=" prefix
    env: |
        WIFI_TEST_PSK=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
        WIFI_TRISTATE_PSK=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

cloudflare:
    # Get tunnel ID from: cloudflared tunnel create wol-rpi
    tunnelId: 00000000-0000-0000-0000-000000000000
    
    # Contents of the credentials JSON file
    # Usually at ~/.cloudflared/<tunnel-id>.json
    tunnelCredentials: |
        {"AccountTag":"your-account-tag","TunnelID":"your-tunnel-id","TunnelSecret":"your-tunnel-secret"}
    
    # Domain/subdomain for accessing wakezilla
    # Create CNAME: <subdomain> -> <tunnel-id>.cfargotunnel.com
    domain: wol.your-domain.com
