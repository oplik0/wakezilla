# sops-nix configuration
# Add your age public keys here after generating host keys

keys:
  # Admin key - your personal age key for editing secrets
  # Generate with: age-keygen -o ~/.config/sops/age/keys.txt
  # Get public key: age-keygen -y ~/.config/sops/age/keys.txt
  - &admin age1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

  # Raspberry Pi host key - derived from SSH host key
  # Generate with: cat keys/ssh_host_ed25519_key.pub | nix run nixpkgs#ssh-to-age
  - &rpi-host age1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

creation_rules:
  - path_regex: secrets/secrets\.yaml$
    key_groups:
      - age:
          - *admin
          - *rpi-host
